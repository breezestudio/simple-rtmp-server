<!DOCTYPE html>
<html>

  <head>
    <meta charset='utf-8' />
    <meta http-equiv="X-UA-Compatible" content="chrome=1" />
    <meta name="description" content="simple-rtmp-server : simple live server supports rtmp/hls/forward/transcoding/bandwidth-test/http-api-hooks" />

    <link rel="stylesheet" type="text/css" media="screen" href="stylesheets/stylesheet.css">

    <title>simple-rtmp-server</title>
  </head>

  <body>

    <!-- HEADER -->
    <div id="header_wrap" class="outer">
        <header class="inner">
          <a id="forkme_banner" href="https://github.com/winlinvip/simple-rtmp-server">View on GitHub</a>

          <h1 id="project_title">simple-rtmp-server</h1>
          <h2 id="project_tagline">simple live server supports rtmp/hls/forward/transcoding/bandwidth-test/http-api-hooks</h2>

            <section id="downloads">
              <a class="zip_download_link" href="https://github.com/winlinvip/simple-rtmp-server/zipball/master">Download this project as a .zip file</a>
              <a class="tar_download_link" href="https://github.com/winlinvip/simple-rtmp-server/tarball/master">Download this project as a tar.gz file</a>
            </section>
        </header>
    </div>

    <!-- MAIN CONTENT -->
    <div id="main_content_wrap" class="outer">
      <section id="main_content" class="inner">
        <h1>
<a name="simple-rtmp-server" class="anchor" href="#simple-rtmp-server"><span class="octicon octicon-link"></span></a>Simple-RTMP-Server</h1>

<p>SRS(SIMPLE RTMP Server) over state-threads created in 2013.<br>
SRS is a simple, RTMP/HLS, high-performance, single(plan)/multiple processes, edge(plan)/origin live server.<br>
SRS supports <a href="https://github.com/winlinvip/simple-rtmp-server/wiki/RtmpUrlVhost">vhost</a>, rtmp(encoder push, client/edge pull), ingester(srs pull), <a href="https://github.com/winlinvip/simple-rtmp-server/wiki/DeliveryHLS">HLS</a>, <a href="https://github.com/winlinvip/simple-rtmp-server/wiki/FFMPEG">transcoding</a>, <a href="https://github.com/winlinvip/simple-rtmp-server/wiki/FFMPEG">forward</a>, <a href="https://github.com/winlinvip/simple-rtmp-server/wiki/HTTPCallback">http hooks</a>. <br>
Blog: <a href="http://blog.csdn.net/win_lin">http://blog.csdn.net/win_lin</a> <br>
See also: <a href="https://github.com/winlinvip/simple-rtmp-server">https://github.com/winlinvip/simple-rtmp-server</a> <br>
See also: <a href="http://winlinvip.github.io/simple-rtmp-server">http://winlinvip.github.io/simple-rtmp-server</a> <br>
TencentQQ: <a href="http://url.cn/WAHICw">http://url.cn/WAHICw</a> (Group: 212189142)</p>

<h3>
<a name="authors" class="anchor" href="#authors"><span class="octicon octicon-link"></span></a>AUTHORS</h3>

<p>The PRIMARY AUTHORS are (and/or have been)(Authors ordered by first contribution): <br></p>

<ul>
<li>winlin(<a href="#">winterserver</a>): <a href="http://blog.csdn.net/win_lin">http://blog.csdn.net/win_lin</a> <br>
</li>
<li>wenjie(<a href="https://github.com/wenjiegit/simple-rtmp-server">wenjiegit</a>): <a href="http://blog.chinaunix.net/uid/25006789.html">http://blog.chinaunix.net/uid/25006789.html</a> <br>
</li>
</ul><p>About the primary AUTHORS: <br></p>

<ul>
<li>Contribute important features to SRS. <br>
</li>
<li>Names of all PRIMARY AUTHORS response in NetConnection.connect and metadata. <br>
</li>
</ul><p>And here is an inevitably incomplete list of MUCH-APPRECIATED CONTRIBUTORS --<br>
people who have submitted patches, reported bugs, added translations, helped<br>
answer newbie questions, and generally made SRS that much better: <a href="https://github.com/winlinvip/simple-rtmp-server/blob/master/AUTHORS.txt">AUTHORS.txt</a></p>

<h3>
<a name="wiki" class="anchor" href="#wiki"><span class="octicon octicon-link"></span></a>Wiki</h3>

<p><a href="https://github.com/winlinvip/simple-rtmp-server/wiki">https://github.com/winlinvip/simple-rtmp-server/wiki</a></p>

<h3>
<a name="usagertmp-for-rtmp-only" class="anchor" href="#usagertmp-for-rtmp-only"><span class="octicon octicon-link"></span></a>Usage(RTMP) for RTMP only</h3>

<p><strong>Requires: Centos6.x 64bits, others see <a href="https://github.com/winlinvip/simple-rtmp-server/wiki/Build">Build</a></strong><br><strong>Step 0:</strong> get SRS <br></p>

<pre>
git clone https://github.com/winlinvip/simple-rtmp-server &amp;&amp;
cd simple-rtmp-server/trunk
</pre>

<p><strong>Step 1:</strong> build SRS <br></p>

<pre>
./configure --with-ssl --without-hls --without-ffmpeg --without-http &amp;&amp; make
</pre>

<p><strong>Step 2:</strong> start SRS <br></p>

<pre>
./objs/srs -c conf/srs.conf
</pre>

<p><strong>Step 3:</strong> <a href="http://www.adobe.com/cn/products/flash-media-encoder.html">Adobe FMLE</a> publish demo live stream <br></p>

<pre>
FMS URL: rtmp://192.168.1.170/live
Stream:  livestream
</pre>

<p><strong>Step 4:</strong> <a href="http://www.videolan.org/vlc/">VLC (2.1+)</a> play live stream. <br></p>

<pre>
rtmp url: rtmp://192.168.1.170/live/livestream
</pre>

<h3>
<a name="usagesimple-for-all-features" class="anchor" href="#usagesimple-for-all-features"><span class="octicon octicon-link"></span></a>Usage(simple) for all features</h3>

<p><strong>Requires: Centos6.x 64bits, others see <a href="https://github.com/winlinvip/simple-rtmp-server/wiki/Build">Build</a></strong><br><strong>Step -1:</strong> get SRS<br></p>

<pre>
git clone https://github.com/winlinvip/simple-rtmp-server &amp;&amp;
cd simple-rtmp-server/trunk
</pre>

<p><strong>Step 0:</strong> build SRS system.<br></p>

<pre>
bash scripts/build.sh
</pre>

<p><strong>Step 1:</strong> start SRS all demo features.<br></p>

<pre>
bash scripts/run.sh
</pre>

<p><strong>Step 2:</strong> SRS live show: <a href="http://your-server-ip">http://your-server-ip</a> <br><strong>Step 3:</strong> stop SRS demo<br></p>

<pre>
bash scripts/stop.sh
</pre>

<h3>
<a name="usagedetail-for-all-features" class="anchor" href="#usagedetail-for-all-features"><span class="octicon octicon-link"></span></a>Usage(detail) for all features</h3>

<p><strong>Requires: Centos6.x 64bits, others see <a href="https://github.com/winlinvip/simple-rtmp-server/wiki/Build">Build</a></strong><br><strong>Step 0:</strong> get SRS <br></p>

<pre>
git clone https://github.com/winlinvip/simple-rtmp-server &amp;&amp;
cd simple-rtmp-server/trunk
</pre>

<p><strong>Step 1:</strong> build SRS <br></p>

<pre>
./configure --with-ssl --with-hls --with-ffmpeg --with-http &amp;&amp; make
</pre>

<p><strong>Step 2:</strong> start SRS <br></p>

<pre>
./objs/srs -c conf/srs.conf
</pre>

<p><strong>Step 3(optinal):</strong> start SRS listen at 19350 to forward to<br></p>

<pre>
./objs/srs -c conf/srs.19350.conf
</pre>

<p><strong>Step 4(optinal):</strong> start nginx for HLS <br></p>

<pre>
sudo ./objs/nginx/sbin/nginx
</pre>

<p><strong>Step 5(optinal):</strong> start http hooks for SRS callback <br></p>

<pre>
python ./research/api-server/server.py 8085
</pre>

<p><strong>Step 6:</strong> publish demo live stream <br></p>

<pre>
FMS URL: rtmp://127.0.0.1/live?vhost=demo.srs.com
Stream:  livestream
FFMPEG to publish the default demo stream:
    for((;;)); do \
        ./objs/ffmpeg/bin/ffmpeg -re -i ./doc/source.200kbps.768x320.flv \
        -vcodec copy -acodec copy \
        -f flv -y rtmp://127.0.0.1/live?vhost=demo.srs.com/livestream; \
        sleep 1; \
    done
</pre>

<p><strong>Step 7:</strong> publish players live stream <br></p>

<pre>
FMS URL: rtmp://127.0.0.1/live?vhost=players
Stream:  livestream
FFMPEG to publish the players demo stream:
    for((;;)); do \
        ./objs/ffmpeg/bin/ffmpeg -re -i ./doc/source.200kbps.768x320.flv \
        -vcodec copy -acodec copy \
        -f flv -y rtmp://127.0.0.1/live?vhost=players/livestream; \
        sleep 1; \
    done
</pre>

<p><strong>Step 8:</strong> add server ip to client hosts as demo. <br></p>

<pre>
# edit the folowing file:
# linux: /etc/hosts
# windows: C:\Windows\System32\drivers\etc\hosts
# where server ip is 192.168.2.111
192.168.2.111 demo.srs.com
</pre>

<p><strong>Step 9:</strong> play live stream. <br></p>

<pre>
players: http://demo.srs.com/players
rtmp url: rtmp://demo.srs.com/live/livestream
m3u8 url: http://demo.srs.com/live/livestream.m3u8
for android: http://demo.srs.com/live/livestream.html
</pre>

<p><strong>Step 10(optinal):</strong> play live stream auto transcoded<br></p>

<pre>
rtmp url: rtmp://demo.srs.com/live/livestream_ld
m3u8 url: http://demo.srs.com/live/livestream_ld.m3u8
for android: http://demo.srs.com/live/livestream_ld.html
rtmp url: rtmp://demo.srs.com/live/livestream_sd
m3u8 url: http://demo.srs.com/live/livestream_sd.m3u8
for android: http://demo.srs.com/live/livestream_sd.html
</pre>

<p><strong>Step 11(optinal):</strong> play live stream auto forwarded, the hls dir change to /forward<br></p>

<pre>
rtmp url: rtmp://demo.srs.com:19350/live/livestream
m3u8 url: http://demo.srs.com/forward/live/livestream.m3u8
for android: http://demo.srs.com/forward/live/livestream.html
rtmp url: rtmp://demo.srs.com:19350/live/livestream_ld
m3u8 url: http://demo.srs.com/forward/live/livestream_ld.m3u8
for android: http://demo.srs.com/forward/live/livestream_ld.html
rtmp url: rtmp://demo.srs.com:19350/live/livestream_sd
m3u8 url: http://demo.srs.com/forward/live/livestream_sd.m3u8
for android: http://demo.srs.com/forward/live/livestream_sd.html
</pre>

<p><strong>Step 12(optinal):</strong> modify the config and reload it (all features support reload)<br></p>

<pre>
killall -1 srs
</pre>

<p>or use specified signal to reload:<br></p>

<pre>
killall -s SIGHUP srs
</pre>

<h3>
<a name="architecture" class="anchor" href="#architecture"><span class="octicon octicon-link"></span></a>Architecture</h3>

<p>System Architecture:</p>

<pre>
+------------------------------------------------------+
|             SRS(Simple RTMP Server)                  |
+---------------+---------------+-----------+----------+
|   API/hook    |   Transcoder  |    HLS    |   RTMP   |
|  http-parser  |  FFMPEG/x264  |  NGINX/ts | protocol |
+---------------+---------------+-----------+----------+
|              Network(state-threads)                  |
+------------------------------------------------------+
|      All Linux(RHEL,CentOS,Ubuntu,Fedora...)         |
+------------------------------------------------------+
</pre>

<p>Modularity Architecture:</p>

<pre>
+------------------------------------------------------+
|             Main(srs/bandwidth/librtmp)              |
+------------------------------------------------------+
|           App(Server/Client application)             |
+------------------------------------------------------+
|               RTMP(Protocol stack)                   |
+------------------------------------------------------+
|      Kernel(depends on Core, provides error/log)     |
+------------------------------------------------------+
|         Core(depends only on system apis)            |
+------------------------------------------------------+
</pre>

<p>Stream Architecture:</p>

<pre>
               +---------+              +----------+
               + Publish +              +  Deliver |
               +---|-----+              +----|-----+
+------------------+-------------------------+----------------+
|     Input        | SRS(Simple RTMP Server) |     Output     |
+------------------+-------------------------+----------------+
|    Encoder(1)    |   +-&gt; RTMP protocol ----+-&gt; Flash Player |
|  (FMLE,FFMPEG, --+-&gt;-+-&gt; HLS/NGINX --------+-&gt; m3u8 player  |
|  Flash,XSPLIT,   |   +-&gt; Fowarder ---------+-&gt; RTMP Server  |
|  ......)         |   +-&gt; Transcoder -------+-&gt; RTMP Server  |
|                  |   +-&gt; DVR --------------+-&gt; FILE         |
|                  |   +-&gt; BandwidthTest ----+-&gt; Flash/StLoad |
+------------------+                         |                |
|  MediaSource(2)  |                         |                |
|  (RTSP,FILE,     |                         |                |
|   HTTP,HLS,    --+-&gt;-- Ingester -----------+-&gt; SRS          |
|   Device,        |                         |                |
|   ......)        |                         |                |
+------------------+-------------------------+----------------+

Remark:
(1) Encoder: encoder must push RTMP stream to SRS server.
(2) MediaSource: any media source, which can be ingest by ffmpeg.
</pre>

<p>(plan) RTMP cluster(origin/edge) Architecture:<br>
Remark: cluster over forward, see <a href="https://github.com/winlinvip/simple-rtmp-server/wiki/Cluster">Cluster</a></p>

<pre>
+---------+       +-----------------+     +-----------------------+ 
+ Encoder +--+--&gt;-+  SRS(RTMP Edge) +---&gt;-+     (RTMP Origin)     | 
+---------+  |    +-----------------+     |   SRS/FMS/NGINX-RTMP  |
             |                            |    Red5/HELIX/CRTMP   |
             +--------------------------&gt;-+         ......        |
                                          +-----------------------+ 
Schema#1: Any RTMP encoder push RTMP stream to RTMP (origin/edge)server,
    where SRS RTMP Edge server will forward stream to origin.


+-------------+    +-----------------+      +--------------------+
| RTMP Origin +--&gt;-+  SRS(RTMP Edge) +--+-&gt;-+  Client(RTMP/HLS)  |
+-------------+    +-----------------+  |   |  Flash/IOS/Android |
                                        |   +--------------------+
                                        |
                                        |   +-----------------+
                                        +-&gt;-+  SRS(RTMP Edge) +
                                            +-----------------+
Schema#2: SRS RTMP Edge server pull stream from origin (or upstream SRS 
    RTMP Edge server), then delivery to Client.
</pre>

<p>(plan) SRS Multiple processes Architecture(design by wenjie):<br></p>

<pre>
                  +-------------------+          +-----------+
                  |   upnode server   |          +   client  +
                  +---------+---------+          +-----+-----+
              --------------+------------network-------+---------
                            |                          |
 +-----------+         +----+-----------+         +----+-----------+
 |   master  +--fork-&gt;-+ back source(1) +--&gt;-pull-+ stream 1-N(2)  +
 +-----+-----+         +----------------+         +-------+--------+
       |                                                  |
       +-------------------------------------fork---&gt;-----+

Remark:
(1) back source process: create by master process, get stream from 
    upnode server if edge, create stream if origin, serve the stream 
    process.
(2) stream process: create by master process, get stream from back
    source process, serve the client.
Remark:
(a) This multiple processes architecture is design by wenjie, it's a
    very simple and powerful multiple process architecture, for the
    master no need to pass between stream process.
(b) The CLI architecture is similar to this, instead, cli process
    will collect informations from all stream process, master process
    only send signals to child processes.
</pre>

<p>CLI Architecture:</p>

<pre>
                       +---------+
                    +--+ stream1 +---------+
                    |  +---------+         |
 +--------+         |  +---------+         |   +-------+
 | master +--fork-&gt;-+--+ streamN +---amf0--+&gt;--+  cli  +
 +--------+         |  +---------+         |   +-------+
                    |  +-------------+     |
                    +--+ back source +-----+
                       +-------------+
Remark:
(1) master listen the global api port, for example, 33330
(2) back source and stream processes listen at private api port, 
    for example, 33331, 33332, 33333
(3) work processes(stream and back-source), report private api
    port to master global api port.
(4) cli connect to master global api port, get all other private
    api ports
(5) cli connect to each stream/back-source process to get api data,
    cli analysis and summary the data, return to user.
</pre>

<p>Bandwidth Test Workflow:</p>

<pre>
   +------------+                    +----------+
   |  Client    |                    |  Server  |
   +-----+------+                    +-----+----+
         |                                 |
         |   connect vhost-------------&gt;   |
         |   &lt;-----------result(success)   |
         |                                 |
         |   &lt;----------call(start play)   |
         |   result(playing)----------&gt;    |
         |   &lt;-------------data(playing)   |
         |   &lt;-----------call(stop play)   |
         |   result(stopped)----------&gt;    |
         |                                 |
         |   &lt;-------call(start publish)   |
         |   result(publishing)-------&gt;    |
         |   data(publishing)---------&gt;    |
         |   &lt;--------call(stop publish)   |
         |   result(stopped)(1)-------&gt;    |
         |                                 |
         |   &lt;--------------------report   |
         |   final(2)-----------------&gt;    |
         |           &lt;END&gt;                 |
         
@See: class SrsBandwidth comments.
</pre>

<h3>
<a name="system-requirements" class="anchor" href="#system-requirements"><span class="octicon octicon-link"></span></a>System Requirements</h3>

<p>Supported operating systems and hardware:</p>

<ul>
<li>All Linux , both 32 and 64 bits</li>
<li>All handware.</li>
</ul><h3>
<a name="summary" class="anchor" href="#summary"><span class="octicon octicon-link"></span></a>Summary</h3>

<ol>
<li>Simple: also stable enough.<br>
</li>
<li>
<a href="https://github.com/winlinvip/simple-rtmp-server/wiki/Performance">High-performance</a>: single-thread, async socket, event/st-thread driven.<br>
</li>
<li>With RTMP edge server, support origin server.<br>
</li>
<li>NO vod streaming, live streaming only.<br>
</li>
<li>With multiple processes, support single process.<br>
</li>
<li>Support vhost, support __defaultVhost__.<br>
</li>
<li>Support adobe rtmp live streaming.<br>
</li>
<li>Support apple <a href="https://github.com/winlinvip/simple-rtmp-server/wiki/DeliveryHLS">HLS(m3u8)</a> live streaming.<br>
</li>
<li>Support reload config to enable changes.<br>
</li>
<li>Support cache last gop for flash player to fast startup.<br>
</li>
<li>Support listen at multiple ports.<br>
</li>
<li>Support long time(&gt;4.6hours) publish/play.<br>
</li>
<li>High performace, 1800 connections(500kbps), 900Mbps, CPU 90.2%, 41MB<br>
</li>
<li>Support forward publish stream to build active-standby <a href="https://github.com/winlinvip/simple-rtmp-server/wiki/Cluster">cluster</a>.<br>
</li>
<li>Support broadcast by forward the stream to other servers(origin/edge).<br>
</li>
<li>Support live stream transcoding by ffmpeg.<br>
</li>
<li>Support live stream forward(acopy/vcopy) by ffmpeg.<br>
</li>
<li>Support ffmpeg filters(logo/overlay/crop), x264 params.<br>
</li>
<li>Support audio transcode only, speex/mp3 to aac<br>
</li>
<li>Support <a href="https://github.com/winlinvip/simple-rtmp-server/wiki/HTTPCallback">http callback api hooks</a>(for authentication and injection).<br>
</li>
<li>Support bandwidth test api and flash client.<br>
</li>
<li>Player, publisher(encoder), and demo pages(jquery+bootstrap). <br>
</li>
<li>Demo video meeting or chat(SRS+cherrypy+jquery+bootstrap). <br>
</li>
<li>Full documents in wiki, in chineses. <br>
</li>
<li>Support RTMP(play-publish) library: srs-librtmp<br>
</li>
<li>[plan] Support system utest<br>
</li>
<li>[plan] Support stream ingester using ffmpeg.<br>
</li>
<li>[plan] Support RTSP(RTP, SDP)<br>
</li>
<li>[plan] Support network based cli and json result.<br>
</li>
<li>[plan] Support HLS cluster, use RTMP ATC to generate the TS<br>
</li>
<li>[plan] Support RTMP edge server, push/pull stream from any RTMP server<br>
</li>
<li>[plan] Support multiple processes, for both origin and edge<br>
</li>
<li>[no-plan] Support adobe flash refer/token/swf verification.<br>
</li>
<li>[no-plan] Support adobe amf3 codec.<br>
</li>
<li>[no-plan] Support dvr(record live to vod file)<br>
</li>
<li>[no-plan] Support encryption: RTMPE/RTMPS, HLS DRM<br>
</li>
<li>[no-plan] Support RTMPT, http to tranverse firewalls<br>
</li>
<li>[no-plan] Support file source, transcoding file to live stream<br>
</li>
</ol><h3>
<a name="performance" class="anchor" href="#performance"><span class="octicon octicon-link"></span></a>Performance</h3>

<ol>
<li> 300 connections, 150Mbps, 500kbps, CPU 18.8%, MEM 5956KB.</li>
<li> 600 connections, 300Mbps, 500kbps, CPU 32.1%, MEM 9808KB.</li>
<li> 900 connections, 450Mbps, 500kbps, CPU 49.9%, MEM 11MB.</li>
<li>1200 connections, 600Mbps, 500kbps, CPU 72.4%, MEM 15MB.</li>
<li>1500 connections, 750Mbps, 500kbps, CPU 81.9%, MEM 28MB.</li>
<li>1800 connections, 900Mbps, 500kbps, CPU 90.2%, MEM 41MB.</li>
</ol><pre>
[winlin@dev6 srs]$ dstat
----total-cpu-usage---- -dsk/total- ---net/lo-- ---paging-- ---system--
usr sys idl wai hiq siq| read  writ| recv  send|  in   out | int   csw 
 58   9  32   0   0   1|   0  4168k| 277M  277M|   0     0 |  29k   25k
 61   8  30   0   0   1|   0  1168k| 336M  336M|   0     0 |  29k   24k
 63   8  27   0   0   1|   0  2240k| 124M  124M|   0     0 |  32k   33k
 62   8  28   0   0   1|   0  1632k| 110M  110M|   0     0 |  31k   33k
 53   7  40   0   0   1|   0  1360k| 115M  115M|   0     0 |  24k   26k
 51   7  41   0   0   1|   0  1184k| 146M  146M|   0     0 |  24k   27k
 39   6  54   0   0   1|   0  1284k| 105M  105M|   0     0 |  22k   28k
 41   6  52   0   0   1|   0  1264k| 116M  116M|   0     0 |  25k   28k
 48   6  45   0   0   1|   0  1272k| 143M  143M|   0     0 |  27k   27k
</pre>

<p>See also: <a href="https://github.com/winlinvip/simple-rtmp-server/wiki/Performance">Performance Test Guide</a></p>

<h3>
<a name="releases" class="anchor" href="#releases"><span class="octicon octicon-link"></span></a>Releases</h3>

<ul>
<li>2013-12-25, <a href="https://github.com/winlinvip/simple-rtmp-server/releases/tag/0.9">Release v0.9</a>, support bandwidth test, player/encoder/chat demos. 20926 lines.<br>
</li>
<li>2013-12-08, <a href="https://github.com/winlinvip/simple-rtmp-server/releases/tag/0.8">Release v0.8</a>, support http hooks callback, update <a href="https://github.com/winlinvip/st-load">st_load</a>. 19186 lines.<br>
</li>
<li>2013-12-03, <a href="https://github.com/winlinvip/simple-rtmp-server/releases/tag/0.7">Release v0.7</a>, support live stream transcoding. 17605 lines.<br>
</li>
<li>2013-11-29, <a href="https://github.com/winlinvip/simple-rtmp-server/releases/tag/0.6">Release v0.6</a>, support forward stream to origin/edge. 16094 lines.<br>
</li>
<li>2013-11-26, <a href="https://github.com/winlinvip/simple-rtmp-server/releases/tag/0.5">Release v0.5</a>, support HLS(m3u8), fragment and window. 14449 lines.<br>
</li>
<li>2013-11-10, <a href="https://github.com/winlinvip/simple-rtmp-server/releases/tag/0.4">Release v0.4</a>, support reload config, pause, longtime publish/play. 12500 lines.<br>
</li>
<li>2013-11-04, <a href="https://github.com/winlinvip/simple-rtmp-server/releases/tag/0.3">Release v0.3</a>, support vhost, refer, gop cache, listen multiple ports. 11773 lines.<br>
</li>
<li>2013-10-25, <a href="https://github.com/winlinvip/simple-rtmp-server/releases/tag/0.2">Release v0.2</a>, support rtmp flash publish, h264, time jitter correct. 10125 lines.<br>
</li>
<li>2013-10-23, <a href="https://github.com/winlinvip/simple-rtmp-server/releases/tag/0.1">Release v0.1</a>, support rtmp FMLE/FFMPEG publish, vp6. 8287 lines.<br>
</li>
<li>2013-10-17, Created.<br>
</li>
</ul><h3>
<a name="compare" class="anchor" href="#compare"><span class="octicon octicon-link"></span></a>Compare</h3>

<ul>
<li>SRS v0.9: 20926 lines. player/encoder/chat demos. bandwidth test for encoder/CDN.<br>
</li>
<li>SRS v0.8: 19186 lines. implements http hooks refer to <a href="https://github.com/arut/nginx-rtmp-module">nginx-rtmp</a>. <br>
</li>
<li>SRS v0.7: 17605 lines. implements transcoding(FFMPEG) feature refer to <a href="http://www.wowza.com">wowza</a>. <br>
</li>
<li>SRS v0.6: 16094 lines. important feature forward for CDN. <br>
</li>
<li>SRS v0.5: 14449 lines. implements HLS feature refer to <a href="https://github.com/arut/nginx-rtmp-module">nginx-rtmp</a>. <br>
</li>
<li>SRS v0.4: 12500 lines. important feature reload for CDN. <br>
</li>
<li>SRS v0.3: 11773 lines. implements vhost feature refer to <a href="http://www.adobe.com/products/adobe-media-server-family.html">FMS</a>. <br>
</li>
<li>SRS v0.2: 10125 lines. implements rtmp protocol stack refer to <a href="https://github.com/arut/nginx-rtmp-module">nginx-rtmp</a>. <br>
</li>
<li>SRS v0.1: 8287 lines. base on state-threads. <br>
</li>
<li>nginx-rtmp v1.0.4: 26786 lines <br>
</li>
<li>nginx v1.5.0: 139524 lines <br>
</li>
</ul><h3>
<a name="history" class="anchor" href="#history"><span class="octicon octicon-link"></span></a>History</h3>

<ul>
<li>v1.0, 2014-03-06, add gperftools for mem leak detect, mem/cpu profile.</li>
<li>v1.0, 2014-03-04, add gest framework for utest, build success.</li>
<li>v1.0, 2014-03-02, add wiki <a href="https://github.com/winlinvip/simple-rtmp-server/wiki/SrsLibrtmp">srs-librtmp</a>, <a href="https://github.com/winlinvip/simple-rtmp-server/wiki/SrsLinuxArm">srs for arm</a>, <a href="https://github.com/winlinvip/simple-rtmp-server/wiki/Product">product</a>
</li>
<li>v1.0, 2014-03-02, srs-librtmp, client publish/play library like librtmp.</li>
<li>v1.0, 2014-03-01, modularity, extract core/kernel/rtmp/app/main module.</li>
<li>v1.0, 2014-02-28, support arm build(SRS/ST), add ssl to 3rdparty package.</li>
<li>v1.0, 2014-02-28, add wiki <a href="https://github.com/winlinvip/simple-rtmp-server/wiki/Build">BuildArm</a>, <a href="https://github.com/winlinvip/simple-rtmp-server/wiki/FFMPEG">FFMPEG</a>, <a href="https://github.com/winlinvip/simple-rtmp-server/wiki/Reload">Reload</a>
</li>
<li>v1.0, 2014-02-27, add wiki <a href="https://github.com/winlinvip/simple-rtmp-server/wiki/LowLatency">LowLatency</a>, <a href="https://github.com/winlinvip/simple-rtmp-server/wiki/HTTPCallback">HTTPCallback</a>, <a href="https://github.com/winlinvip/simple-rtmp-server/wiki/ServerSideScript">ServerSideScript</a>, <a href="https://github.com/winlinvip/simple-rtmp-server/wiki/IDE">IDE</a>
</li>
<li>v1.0, 2014-01-19, add wiki <a href="https://github.com/winlinvip/simple-rtmp-server/wiki/DeliveryHLS">DeliveryHLS</a>
</li>
<li>v1.0, 2014-01-12, add wiki <a href="https://github.com/winlinvip/simple-rtmp-server/wiki/HowToAskQuestion">HowToAskQuestion</a>, <a href="https://github.com/winlinvip/simple-rtmp-server/wiki/RtmpUrlVhost">RtmpUrlVhost</a>
</li>
<li>v1.0, 2014-01-11, fix jw/flower player pause bug, which send closeStream actually.</li>
<li>v1.0, 2014-01-05, add wiki <a href="https://github.com/winlinvip/simple-rtmp-server/wiki/Build">Build</a>, <a href="https://github.com/winlinvip/simple-rtmp-server/wiki/Performance">Performance</a>, <a href="https://github.com/winlinvip/simple-rtmp-server/wiki/Cluster">Cluster</a>
</li>
<li>v1.0, 2014-01-01, change listen(512), chunk-size(60000), to improve performance.</li>
<li>v1.0, 2013-12-27, merge from wenjie, the bandwidth test feature.</li>
<li>v0.9, 2013-12-25, <a href="https://github.com/winlinvip/simple-rtmp-server/releases/tag/0.9">v0.9</a> released. 20926 lines.</li>
<li>v0.9, 2013-12-25, fix the bitrate bug(in Bps), use enhanced microphone.</li>
<li>v0.9, 2013-12-22, demo video meeting or chat(SRS+cherrypy+jquery+bootstrap).</li>
<li>v0.9, 2013-12-22, merge from wenjie, support banwidth test.</li>
<li>v0.9, 2013-12-22, merge from wenjie: support set chunk size at vhost level</li>
<li>v0.9, 2013-12-21, add <a href="http://demo.srs.com/players">players</a> for play and publish.</li>
<li>v0.9, 2013-12-15, ensure the HLS(ts) is continous when republish stream.</li>
<li>v0.9, 2013-12-15, fix the hls reload bug, feed it the sequence header.</li>
<li>v0.9, 2013-12-15, refine protocol, use int64_t timestamp for ts and jitter.</li>
<li>v0.9, 2013-12-15, support set the live queue length(in seconds), drop when full.</li>
<li>v0.9, 2013-12-15, fix the forwarder reconnect bug, feed it the sequence header.</li>
<li>v0.9, 2013-12-15, support reload the hls/forwarder/transcoder.</li>
<li>v0.9, 2013-12-14, refine the thread model for the retry threads.</li>
<li>v0.9, 2013-12-10, auto install depends tools/libs on centos/ubuntu.</li>
<li>v0.8, 2013-12-08, <a href="https://github.com/winlinvip/simple-rtmp-server/releases/tag/0.8">v0.8</a> released. 19186 lines.</li>
<li>v0.8, 2013-12-08, support <a href="https://github.com/winlinvip/simple-rtmp-server/wiki/HTTPCallback">http hooks</a>: on_connect/close/publish/unpublish/play/stop.</li>
<li>v0.8, 2013-12-08, support multiple http hooks for a event.</li>
<li>v0.8, 2013-12-07, support http callback hooks, on_connect.</li>
<li>v0.8, 2013-12-07, support network based cli and json result, add CherryPy 3.2.4.</li>
<li>v0.8, 2013-12-07, update http/hls/rtmp load test tool <a href="https://github.com/winlinvip/st-load">st_load</a>, use SRS rtmp sdk.</li>
<li>v0.8, 2013-12-06, support max_connections, drop if exceed.</li>
<li>v0.8, 2013-12-05, support log_dir, write ffmpeg log to file.</li>
<li>v0.8, 2013-12-05, fix the forward/hls/encoder bug.</li>
<li>v0.7, 2013-12-03, <a href="https://github.com/winlinvip/simple-rtmp-server/releases/tag/0.7">v0.7</a> released. 17605 lines.</li>
<li>v0.7, 2013-12-01, support dead-loop detect for forwarder and transcoder.</li>
<li>v0.7, 2013-12-01, support all ffmpeg filters and params.</li>
<li>v0.7, 2013-11-30, support live stream transcoder by ffmpeg.</li>
<li>v0.7, 2013-11-30, support --with/without -ffmpeg, build ffmpeg-2.1.</li>
<li>v0.7, 2013-11-30, add ffmpeg-2.1, x264-core138, lame-3.99.5, libaacplus-2.0.2.</li>
<li>v0.6, 2013-11-29, <a href="https://github.com/winlinvip/simple-rtmp-server/releases/tag/0.6">v0.6</a> released. 16094 lines.</li>
<li>v0.6, 2013-11-29, add performance summary, 1800 clients, 900Mbps, CPU 90.2%, 41MB.</li>
<li>v0.6, 2013-11-29, support forward stream to other edge server.</li>
<li>v0.6, 2013-11-29, support forward stream to other origin server.</li>
<li>v0.6, 2013-11-28, fix memory leak bug, aac decode bug.</li>
<li>v0.6, 2013-11-27, support --with or --without -hls and -ssl options.</li>
<li>v0.6, 2013-11-27, support AAC 44100HZ sample rate for iphone, adjust the timestamp.</li>
<li>v0.5, 2013-11-26, <a href="https://github.com/winlinvip/simple-rtmp-server/releases/tag/0.5">v0.5</a> released. 14449 lines.</li>
<li>v0.5, 2013-11-24, support HLS(m3u8), fragment and window.</li>
<li>v0.5, 2013-11-24, support record to ts file for HLS.</li>
<li>v0.5, 2013-11-21, add ts_info tool to demux ts file.</li>
<li>v0.5, 2013-11-16, add rtmp players(OSMF/jwplayer5/jwplayer6).</li>
<li>v0.4, 2013-11-10, <a href="https://github.com/winlinvip/simple-rtmp-server/releases/tag/0.4">v0.4</a> released. 12500 lines.</li>
<li>v0.4, 2013-11-10, support config and reload the pithy print.</li>
<li>v0.4, 2013-11-09, support reload config(vhost and its detail).</li>
<li>v0.4, 2013-11-09, support reload config(listen and chunk_size) by SIGHUP(1).</li>
<li>v0.4, 2013-11-09, support longtime(&gt;4.6hours) publish/play.</li>
<li>v0.4, 2013-11-09, support config the chunk_size.</li>
<li>v0.4, 2013-11-09, support pause for live stream.</li>
<li>v0.3, 2013-11-04, <a href="https://github.com/winlinvip/simple-rtmp-server/releases/tag/0.3">v0.3</a> released. 11773 lines.</li>
<li>v0.3, 2013-11-04, support refer/play-refer/publish-refer.</li>
<li>v0.3, 2013-11-04, support vhosts specified config.</li>
<li>v0.3, 2013-11-02, support listen multiple ports.</li>
<li>v0.3, 2013-11-02, support config file in nginx-conf style.</li>
<li>v0.3, 2013-10-29, support pithy print log message specified by stage.</li>
<li>v0.3, 2013-10-28, support librtmp without extended-timestamp in 0xCX chunk packet.</li>
<li>v0.3, 2013-10-27, support cache last gop for client fast startup.</li>
<li>v0.2, 2013-10-25, <a href="https://github.com/winlinvip/simple-rtmp-server/releases/tag/0.2">v0.2</a> released. 10125 lines.</li>
<li>v0.2, 2013-10-25, support flash publish.</li>
<li>v0.2, 2013-10-25, support h264/avc codec by rtmp complex handshake.</li>
<li>v0.2, 2013-10-24, support time jitter detect and correct algorithm</li>
<li>v0.2, 2013-10-24, support decode codec type to cache the h264/avc sequence header.</li>
<li>v0.1, 2013-10-23, <a href="https://github.com/winlinvip/simple-rtmp-server/releases/tag/0.1">v0.1</a> released. 8287 lines.</li>
<li>v0.1, 2013-10-23, support basic amf0 codec, simplify the api using c-style api.</li>
<li>v0.1, 2013-10-23, support shared ptr msg for zero memory copy.</li>
<li>v0.1, 2013-10-22, support vp6 codec with rtmp protocol specified simple handshake.</li>
<li>v0.1, 2013-10-20, support multiple flash client play live streaming.</li>
<li>v0.1, 2013-10-20, support FMLE/FFMPEG publish live streaming.</li>
<li>v0.1, 2013-10-18, support rtmp message2chunk protocol(send_message).</li>
<li>v0.1, 2013-10-17, support rtmp chunk2message protocol(recv_message).</li>
</ul><p>Beijing, 2013<br>
Winlin</p>
      </section>
    </div>

    <!-- FOOTER  -->
    <div id="footer_wrap" class="outer">
      <footer class="inner">
        <p class="copyright">simple-rtmp-server maintained by <a href="https://github.com/winlinvip">winlinvip</a></p>
        <p>Published with <a href="http://pages.github.com">GitHub Pages</a></p>
      </footer>
    </div>

    

  </body>
</html>
